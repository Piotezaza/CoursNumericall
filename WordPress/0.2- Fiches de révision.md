# Wordpress pour les intégrateurs
## Les thèmes Wordpress
### 1 - Le menu Apparence

Le menu Apparence du back-office de Wordpress permet de gérer le thème et les options visuelles de votre site web.

Selon le thème choisi, les sous-menus disponibles seront différents et pourront comprendre une ou plusieurs options supplémentaires. Par défaut, Wordpress vous permettra toujours d'accéder à :

- **Thèmes** : la liste des thèmes installés et la possibilité d'ajouter d'autres thèmes
- **Personnaliser** : la possibilité de modifier visuellement certaines options du thème choisi
- **Editeur** : un éditeur de code qui vous permettra de modifier les fichiers source du thème
A noter : il est préférable de ne jamais éditer un thème dont vous n'êtes pas l'auteur directement car s'il est mis à jour, toutes vos modifications disparaitront - choisissez plutôt d'utiliser un "*thème enfant*".

L'éditeur de code peut être amélioré par l'utilisation d'une extension comme WP Editor (coloration du code...).

Avant de mettre à jour un thème, pensez à faire une sauvegarde intégrale de votre site (fichiers ET base de données).

### 2 - Les différents types de thème

Il existe un nombre innombrable de thèmes pour Wordpress. Certains gratuits, d'autre payants - généralement appelés "Premium".

Le bouton **Thèmes > Ajouter** présent dans le back-office de Wordpress vous permet d'installer des thèmes gratuits disponibles sur le Dépôt Officiel de Wordpress.

Le bouton **Thèmes > Ajouter > Mettre un thème en ligne** permet d'envoyer le fichier zip d'un thème Wordpress que vous aurez préalablement téléchargé sur votre ordinateur. Il peut s'agir d'un thème gratuit ou premium.

Vous pouvez également ajouter manuellement un thème en déposant son dossier (via FTP pour un site distant) dans le dossier de Wordpress **wp-content > themes**.

Vous trouverez plusieurs types de thèmes Wordpress :

- les thèmes "classiques" que vous utiliserez tels quels en modifiant (ou pas) les options disponibles dans le menu "Personnaliser",
- les thèmes "enfant" qui vous permettent de modifier un thème tout en conservant le bénéfice des mises à jour du thème parent.
- les "blank themes", "starter themes" ou "thèmes de démarrage/blancs" que vous modifierez pour créer votre propre thème personnalisé. Ils vous permettent de partir d'une base sans avoir à tout recréer.
- les frameworks de développement de thèmes sont un peu plus complexes à utiliser et ne sont pas des thèmes "prêt-à-l'emploi" mais plutôt des séries de fonctions et fonctionnalités à utiliser pour créer la base d'un thème.

### 3 - Choisir un thème Wordpress

Selon le budget et le temps alloués à la création/modification d'un site Wordpress, vous pourrez choisir de partir d'un thème enfant, d'un thème de démarrage ou de créer un thème totalement personnalisé.

Un grand nombre de thèmes, gratuits ou payants, peuvent être utilisés tels quels et personnalisés car ils contiennent un nombre conséquent de fonctionnalités prêtes à l'emploi.

Les thèmes par défaut de Wordpress sont également à considérer comme de bons thèmes de démarrage et la méthode du "thème enfant" permet d'en modifier totalement l'apparence tout en gardant le même fonctionnement.


## Les thèmes enfants Wordpress
### Les avantages d'un thème "enfant"

Grâce aux thèmes enfants, vous pouvez modifier un thème existant tout en conservant le bénéfice des mises à jour (notamment des fonctionnalités) du thème parent.

Un thème enfant vous permet de modifier les styles, d'ajouter ou supprimer des fonctionnalités ainsi que les templates d'un thème existant.

Nombreux sont les thèmes qui contiennent déjà toutes les fonctionnalités que vous pourriez souhaitez pour un site web. Il vous suffit donc d'adapter son webdesign à celui souhaité par le client en mettant à jour les styles et templates du thème "parent".

### Comment créer un thème enfant ?

Lorsque vous souhaitez créer un thème enfant, il vous faudra conserver le thème parent dans les thèmes installés sur votre site mais seul le thème enfant sera activé.

Pour créer un thème enfant, vous avez besoin d'un seul fichier au minimum : le fichier **style.css** de votre thème enfant correctement configuré.

Dans la pratique, un thème enfant contient souvent un certain nombre de fichiers :

- **screenshot.png** : il s'agit de l'aperçu de votre thème enfant. Vous pouvez conserver le même fichier que celui du thème parent ou créer votre propre fichier personnalisé.
- **style.css** : ce fichier est **obligatoire**, c'est lui qui indique à Wordpress qu'il s'agit d'un thème enfant. Il contient toutes les informations de votre thème enfant et vos styles personnalisés. Il est chargé à la place de celui du thème parent.
- **functions.php** : ce fichier contient vos fonctions personnalisées pour le thème enfant. Ce fichier est **chargé AVANT** son homologue du thème parent.
Tous les templates du thème parent que vous souhaitez modifier dans le thème enfant doivent être copiés avec la même arborescence dans le thème enfant.

Pour réutiliser les styles de base du thème parent, 2 solutions s'offrent à vous :

- si le thème parent n'a qu'une seule feuille de style, appelez le style parent dans le fichier **functions.php**
- si le thème parent contient plusieurs feuilles de style, appelez le style parent dans votre propre fichier **style.css** en utilisant la méthode **@import**.

## Les thèmes de démarrage

Les thèmes de démarrage sont également appelés : "starter themes", "blank themes", "thèmes blancs" ou "thèmes vides".

Ils ne sont pas à utiliser en tant que thème "parents" mais à modifier entièrement. Certains sont complètement vides tandis que d'autres contiennent déjà une base de design responsive, comme Bones ou Skeleton.

Ils peuvent être basés sur un framework CSS comme **Bootstrap**, **Boilerplate**, **Foundation** (entre autres) et permettent de modifier complètement le thème et de le personnaliser en partant d'une base contenant déjà un certain nombre de styles et de fonctionnalités.

En voici quelques-uns :

- **underscores.me** : code HTML5 propre, bon usage sémantique, CSS propre.
- **roots.io** : avec les thèmes Sage (Bootstrap) ou Bedrock (qui tient plus du framework que du thème)
- **JointsWP** : un starter theme parfait pour ceux qui veulent commencer rapidement, c'est un thème vide basé sur le framework Foundation
- **Bones** : pour un starter theme au design déjà un peu travaillé...
Et il y en a beaucoup d'autres encore...


## Hiérarchie des fichiers d'un thème Wordpress

Le site [wphierarchy.com](http://www.wphierarchy.com) présente un tableau interactif qui permet de retrouver toutes les informations importantes concernant la hiérarchie des templates dans Wordpress. Chaque template est lié à sa rubrique correspondante dans le Codex de Wordpress.

Le premier fichier d'un site s'intitule toujours "*index*" et Wordpress ne déroge pas à la règle.

Tous les thèmes Wordpress contiennent un fichier **index.php** qui est le template de base de toutes les pages du site, sauf si des templates spécifiques sont définis.

Les autres templates possibles sont :

- **home.php** ou **front-page.php** pour un template spécifique à la page d'accueil du site.
- **404.php** pour un template spécifique à la page d'erreur 404.
- **search.php** pour un template spécifique à l'affichage des résultats de recherche
- **singular.php** (depuis la version 4.3) pour l'affichage détaillé d'un contenu de type Page ou Article.
- **archive.php** pour l'affichage des listes d'articles.

### Le template **singular.php**

Ce template regroupe deux autres templates qui peuvent être détaillés comme suit :

**single.php** pour l'affichage du contenu détaillé d'un Article
**page.php** pour l'affichage du contenu d'une Page

### Le template **archive.php**

Ce template regroupe plusieurs autres templates qui peuvent être détaillés comme suit :

**category.php** pour l'affichage des archives de Catégories
**tag.php** pour l'affichage des archives d'Etiquettes
**author.php** pour l'affichage des archives d'Auteur
**date.php** pour l'affichage des archives par Date
**attachment.php** pour l'affichage des archives de Commentaires

### Les **includes**

Chaque template peut également utiliser des **includes** pour simplifier l'insertion de code dans les différents templates.

Ces **includes** portent généralement la dénomination suivante :

- **header.php** pour les en-têtes de page
- **footer.php** pour les pieds de page
- **loop.php** pour la boucle d'affichage des listes d'articles
- **sidebar.php** pour les barres latérales
- **searchform.php** pour le formulaire de recherche
- **comments.php** pour le module des commentaires

### Les **Conditionnal** Tags

Ces tags conditionnels permettent de vérifier au sein même du code PHP sur quel type de page on se trouve.

En voici quelques-uns :

- si on est sur la page d’accueil `is_home()`
- si on est dans une archive `is_archive`, `is_tag`, `is_category`, `is_date`…
- si on est sur une page auteur `is_author`
- si on est dans la boucle `in_the_loop`
- si un plugin est activé `is_plugin_active`
- si votre thème possède une certaine fonction `current_theme_supports`
Et un exemple d'utilisation d'un conditionnal tag

```
<?php if ( is_home() ) { ?>
    <p>Vous êtes sur la page d'accueil !</p>
<?php } ?>
```